// #region all meals

// Creates all meals
let meal = {
  id: "meal1",
  name: "Name of dish",
  description: "Description of dish",
  image: "Path to image",
  stars: "How many stars, integer without quotation marks",
  timeToCook: "Time in hours and minutes",
  price: "Price, integer without quotiation marks",
  dishDescription: "A longer description of the dish",
  ingredients:
    "List all ingredients needed. Write them inside [] and quotation marks between each ingredient",
  serveWith:
    "List some serving tips. Write them inside [] and quotation marks between each tip",
  howTo: "How to make the dish",
  hidden: false,
};

let meal2 = {
  id: "meal2",
  name: "Traditional Romanian Breakfast",
  description:
    "The Romanian breakfast includes a selection of cold and hot dishes. As the traditional Romanian cuisine has been influenced during the history, each region of the country has its own variation of breakfast, with some common elements.",
  image: "images/romanianBreakfast.jpg",
  stars: 3,
  timeToCook: "10 min",
  price: 3,
  dishDescription:
    "One egg, as many vegetables as you like, cheese, one slice of toast, and any kind of meat, ideally pork, make up the traditional Romanian breakfast.",
  ingredients: [
    "1 egg",
    "3 spoons zacusca",
    "1 slice of bread",
    "3 slices smoked ham",
    "1 tomato",
    "2-3 slices cucumber",
    "1 spring onion",
    "cheese",
  ],

  serveWith: [
    "Commonly used vegetables for breakfast is cucumber, bell pepper, tomatoes and onions",
    "Since practically every Romanian meal contains garlic, you can also add some garlic to the bread and vegetables.",
  ],

  howTo:
    "Fry, poach or boil the egg, arrange all the items on the plate and then enjoy your very romanian breakfast!",

  hidden: false,
};

let meal3 = {
  id: "meal3",
  name: "Traditional Swedish Breakfast",
  description:
    "The Swedish breakfast consits of two slices of bread with butter and cheese, a boiled egg",
  image: "images/SwedishBreakfast.png",
  stars: 4,
  timeToCook: "15 min",
  price: 5,
  dishDescription:
    "The Swedish breakfast consits of two slices of bread with butter and cheese, a boiled egg, muesli and other foods.",
  ingredients: [
    "Organge Juice",
    "Coffee",
    "Sandwich",
    "Butter",
    "Vegetables of your own choice",
    "Cheese",
    "Boiled eggs",
    "Muesli",
    "Yoghurt or filmjölk",
    "Berries for garnish",
  ],
  serveWith: [
    "Commonly used vegetables for breakfast is cucumber, bell pepper and tomatoes",
    "You can also add some cod roe spread (preferably Kalles) on the bread",
  ],
  howTo: "Serve all the items and enjoy your authentic Swedish breakfast!",
  hidden: false,
};

let meal4 = {
  id: "meal4",
  name: "Name of dish",
  description: "Description of dish",
  image: "Path to image",
  stars: "How many stars, integer without quotation marks",
  timeToCook: "Time in hours and minutes",
  price: "Price, integer without quotiation marks",
  dishDescription: "A longer description of the dish",
  ingredients:
    "List all ingredients needed. Write them inside [] and quotation marks between each ingredient",
  serveWith:
    "List some serving tips. Write them inside [] and quotation marks between each tip",
  howTo: "How to make the dish",
  hidden: false,
};

let meal5 = {
  id: "meal5",
  name: "Polenta with cheese and bacon",
  description:
    "One of the most well-liked and delicious meals ever is a this romanian dish, especially when served for lunch. You receive sufficient energy from this meal for the remainder of the day.",
  image: "images/romanian lunch.jpg",
  stars: 4,
  timeToCook: "50 min",
  price: 8,
  dishDescription:
    " This Traditional Romanian Polenta with Feta Cheese, Bacon and Sausage known as “Mămăligă cu Brânză în Pături” it is one of the most traditional and delocios meal of Romania. It’s healthy, tasty and satisfying.",
  ingredients: [
    "5 slices bacon (fried and chopped)",
    "8 ounce smoked sausage (sliced and fried)",
    "2 cups cornmeal",
    "8 cups water",
    "1 teaspoon salt",
    "3 cups feta cheese (shredded or crumbled)",
  ],

  serveWith: ["Extra cheese or ham."],

  howTo:
    "Boil the water with salt. Once water is boiling, reduce heat to low and add the cornmeal, while stirring constantly. Keep stirring, you will notice the polenta will thicken.Cook the polenta for about 20 to 30 min, stirring occasionally. Preheat oven to 400 F degrees.In a 9 x 13 in baking dish, spread half of the polenta using some of the remaining bacon fat. Sprinkle with half of the feta cheese. Add all the sausage and half of the bacon.Repeat with another layer using the remaining polenta. Add the remaining cheese and top off with the remaining bacon.Bake for about 10 min. Serve warm.",
  hidden: false,
};

let meal6 = {
  id: "meal6",
  name: "Potato pancakes with lingonberries",
  description:
    "Potato pancakes, aka raggmunk, has been a classic Swedish meal since the early 20th",
  image: "images/potatoPancakes.jpeg",
  stars: 3,
  timeToCook: "30 min",
  price: 9,
  dishDescription:
    "Potato pancankes aka raggmunk has been a classic Swedish meal since the early 20th century.",
  ingredients: [
    "2 cups of whole milk",
    "3/4 cups of wheat flour",
    "2 teaspoons of salt",
    "1 large egg",
    "800 g of potatoes",
    "Butter to fry in",
  ],
  serveWith: ["Bacon or salted pork side, thinly sliced", "Lingonberry jam"],
  howTo:
    'Whisk together milk and flour in a bowl. Mix eggs and salt. Grate the potatoes on the fine or coarse part (more a matter of taste and what you like) of a grater and mix them into the batter. Let it rest for 30 minutes before frying the potato pancakes. Heat a generous dollop of butter in a frying pan. Pour about ½ cup of batter in the pan and fry to a thick pancake (about as thick as American pancakes), think about spreading the batter over the frying pan so that the grated potatoes is evenly spread throughout the "pancake" and not only as a pile in the middle. Fry on medium heat on both sides until the pancake is golden brown and crispy on the edges. Be careful not to overheat so that they get color before the potatoes is actually cooked, it takes about 4 minutes per side. Place the pancakes on a plate or in a baking dish and put them in the oven to keep them heated, on about 165 degrees Fahrenheit. Fry the bacon or sliced pork until they are golden and crispy, then let them drain on some paper or kitchen towels. Serve the warm potato pancakes with fried bacon or pork and lingonberry jam.',
  hidden: false,
};

let meal7 = {
  id: "meal7",
  name: "Name of dish",
  description: "Description of dish",
  image: "Path to image",
  stars: "How many stars, integer without quotation marks",
  timeToCook: "Time in hours and minutes",
  price: "Price, integer without quotiation marks",
  dishDescription: "A longer description of the dish",
  ingredients:
    "List all ingredients needed. Write them inside [] and quotation marks between each ingredient",
  serveWith:
    "List some serving tips. Write them inside [] and quotation marks between each tip",
  howTo: "How to make the dish",
  hidden: false,
};

let meal8 = {
  id: "meal8",
  name: "Ribs with honey and paprika sauce",
  description:
    "Sticky, sweet & savory, caramelized, smoky goodness in every bite. Say hello to your new go-to romanian ribs recipe!",
  image: "images/romanianRibs.jpg",
  stars: 5,
  timeToCook: "1 hour, 30 min",
  price: 20,
  dishDescription:
    "Basted every 20 minutes with that sweet and smoky glaze, each bite will give you tender meat coated in a perfectly caramelized sauce. Since they are so simple to cook but so delicious to eat, these ribs have become very well-known in Romania in recent years. They are on the menus of all restaurants, and many of them are specialties.",
  ingredients: [
    "tablespoon honey",
    "2 teaspoon brown sugar",
    "⅓ cup olive oil",
    "2 tablespoon lemon juice (freshly squeezed)",
    "2 teaspoon salt",
    "1 teaspoon pepper",
    "4 cloves garlic (crushed)",
    "2 teaspoon paprika",
    "2 tablespoon oregano",
    "1 tablespoon yellow mustard",
    "2 racks pork ribs (3 to 4 lbs)",
  ],

  serveWith: ["Best served with french fries and rose sauce"],
  howTo:
    "Prep the ribs: Remove the membrane or silverskin from the bottom side of the ribs. Flip over the rib rack so you are looking at the bottom side (the side without the meat.) Go to one end of the rib rack, using a knife slide it under the silverskin and pull. It should peel right off in one swipe. Set aside.Glaze: Preheat oven to 375 F degrees. Mix all of the glaze ingredients together in a large bowl. Place the ribs on a large roaster fitted with a rack and then brush the glaze all over the pork ribs thoroughly on both sides. If there's any of the glaze left over, just pour it over the ribs.Cook: Add 1/2 inch of water to the bottom of the roasting pan and transfer the roasting pan to the oven. Bake in the oven for about 1 hour and a half. Every 20 minutes or so, baste the ribs with the drippings from the pan. If the ribs start to brown too much, cover them with foil and finish cooking them.Let the ribs rest for 5 to 10 minutes before serving.",
  hidden: false,
};

let meal9 = {
  id: "meal9",
  name: "Meatballs with mashed potatoes",
  description:
    "Sweden's #1 meal is meatballs, mashed potatoes and cream sauce.",
  image: "images/swedishMeatballs.jpeg",
  stars: 5,
  timeToCook: "1 hr",
  price: 10,
  dishDescription:
    "Every swede has their own favourite meatballs recipe and many celebrity chefs serve their own versions in their restaurants. Most people will say that their mum's recipe is the best of course!",
  ingredients: [
    "2 tablespoons breadcrumbs",
    "50 ml cream",
    "1 egg",
    "1 tablespoon concentrated beef stock",
    "1 yellow onion",
    "25 g butter",
    "500 g ground mince",
    "1 teaspoon ground black pepper",
    "1.5 teaspoons salt",
    "1 cup double cream",
    "1.5 teaspoon dark soy",
    "1 cup beef stock",
    "25 g butter",
    "1 tablespoon corn starch",
    "2 tablespoons lingonberry jam",
  ],
  serveWith: ["Potato mash", "Piffi spice (a Swedish spice mix)"],
  howTo:
    "Fold together bread crumbs, cream, stock and egg and leave to rest for about 5 minutes. Fry the onion in the butter until soft and then mix it with the breadcrumb-cream. Add salt, pepper and mince and work everything together, with your hands or fork. Try not to work it too much, as this will make the meatballs compact. Take a small piece of mince and fry it to test the flavours. When satisfied with salt and pepper, roll the rest of the mince to small balls (about one tablespoon mince per ball) Make sure your hands are wet with water, then the mince won’t stick to your hands. Fry the meatballs until golden brown and thoroughly cooked, then put aside. Mix cream and the corn starch and then pour this, stock and the soy in the pan where you fried the meatballs. Whisk through the pan and let boil for a couple of minutes. Taste with salt, pepper and jam for a little bit of sweetness. Put the meatballs back to the sauce and serve with mashed potatoes and lingonberry jam, maybe some chopped parsley on top too.",
  hidden: false,
};

let meal10 = {
  id: "meal10",
  name: "Name of dish",
  description: "Description of dish",
  image: "Path to image",
  stars: "How many stars, integer without quotation marks",
  timeToCook: "Time in hours and minutes",
  price: "Price, integer without quotiation marks",
  dishDescription: "A longer description of the dish",
  ingredients:
    "List all ingredients needed. Write them inside [] and quotation marks between each ingredient",
  serveWith:
    "List some serving tips. Write them inside [] and quotation marks between each tip",
  howTo: "How to make the dish",
  hidden: false,
};

let meal11 = {
  id: "meal11",
  name: "Papanași",
  description:
    "A traditional flavor belonging to Romanian Cuisine: Papanasi Dessert. Get ready for the dessert feast with uniquely fried cheese donuts served with sour cream and jam!",
  image: "images/romanianPapanasi.jpg",
  stars: 5,
  timeToCook: "1 hour",
  price: 12,
  dishDescription:
    "Papanasi is a fruity dessert prepared by frying or boiling. It is a recipe specific to Romanian and Moldovan cuisines. If you like the sour-sweet combination in desserts, you should definitely try this recipe.This donut, whose main ingredient is cheese, is prepared with cottage cheese, smetana cream and jam. It is also known as Romanian Cheese Donuts.The Papanasi recipe, prepared by frying and flavored with sour fruit flavors, appeals to both the eyes and your palate. Prepare the necessary ingredients for this easy-to-prepare fried donut and try this dessert, which will be indispensable for dessert crises. Bon Appetit.",
  ingredients: [
    "2 egg",
    "1/2 teaspoon of vanilla extract",
    "2 cups of flour",
    "1 pound of cottage cheese",
    "1/2 cup of powdered sugar",
    "1/2 tablespoon of baking soda",
    "2 cups of olive oil",
    "1 tablespoon of zest lemon",
    "12 tablespoons of sour cream",
    "1 cup of blueberry jam",
  ],

  serveWith: ["Serve with creme freche and jam of any kind"],
  howTo:
    "Drain the excess water from the cottage cheese. Then put the cheese in a large bowl. Grind the cheese.In a separate bowl, mix the eggs and sugar with a hand blender until the sugar is well melted.Add the lemon zest, vanilla extract and cheese to the sugar mixture. Mix all the ingredients.Mix the flour and baking powder in a bowl. Then add the flour mix and combine with the ingredients with the help of a spatula until you get a smooth dough.Knead the dough and roll it into a ball. Let the dough stand for 15-20 minutes.After resting the dough, sprinkle flour on the counter and put the dough on it.Divide the dough into 9 equal parts. Shape each of the 8 pieces of dough into a donut with a hole in the middle. Prepare 8 small balls of dough with the remaining piece of dough. Prepare dough with a middle hole in 6 cm thickness and small ball dough in 3 cm thickness.Add the oil in a pot and heat the oil over low-medium heat. When the oil is heated, fry both sides of the donut and dough ball over medium heat for 3-4 minutes. When it turns golden brown, remove it from the pan and place it on a serving plate.Fry the remaining dough in the same way.Serve with sour cream and cherry jam.",
  hidden: false,
};

let meal12 = {
  id: "meal12",
  name: "Semla",
  description:
    "A cream filled cardamom-flavoured bun that drives Swedes crazy around February.",
  image: "images/semla.jpg",
  stars: 4,
  timeToCook: "1 hr 15 min",
  price: 3,
  dishDescription:
    "This recipe will provide a semla that is a delicious way to celebrate Fat Tuesday! Semlor are a delicious tradition in Sweden, but you can make them in your own kitchen, no matter where you live!",
  ingredients: [
    "4 cups all purpose flour",
    "2 teaspoons dry yeast",
    "1/2 cup warm milk",
    "1/3 cup sugar",
    "1/3 cup melted butter",
    "1 teaspoon salt",
    "1 egg",
    "1 teaspoon cardamom",
    "1/2 cup lukewarm water",
    "1 egg yolk",
    "1 tablespoon cream",
    "1 egg white",
    "1/2 cup ground almond without skins",
    "3/4 cup powdered sugar",
  ],
  serveWith: ["Whipping cream", "Powdered sugar"],
  howTo:
    "In bread machine or stand mixer, place the lukewarm water, yeast and 1/2 tsp of sugar. Allow to rest for a few minutes, until the yeast begins to grow. Mix the milk, melted butter, beaten egg together, then add to the yeast mixture. Add the cardamom, flour, 1/3 cup of sugar and salt, and turn on machine (dough setting on bread machine or use a dough hook if using a stand mixer.) Mix and knead by hand if you aren't using a machine. Dough will be slightly sticky. Allow cycle to finish on dough setting; with stand mixer, or by hand, when the dough is ready, cover it and let rise on the counter until doubled in size. After it's risen, punch down the dough, and let rest for 5 minutes. Cut pieces of the dough and shape into round balls (about 15 to 18), and place onto a greased cookie sheet (or silicone sheet) about an inch apart. Place the tray in the oven (do not turn it on) to rise for about half an hour or until doubled in size. Once doubled, remove the buns from the oven and brush with the egg glaze (just mix the egg and cream together and brush on gently.) Preheat the oven to 350º F (175ºC) then cook the buns for approximately 20 minutes, or until golden brown. While they are baking, prepare the almond paste. Whip the egg white until soft peaks form, then fold in the ground almonds and powdered sugar. Cover and set aside. Remove the cooked buns from the tray, and place on a cooling rack. When the Semlor are completely cool, whip the cream and assemble them. Begin by cutting a top on each bun with a sharp knife, cutting down into the center of the bun to create a space for filling in the bun. Then put a teaspoonful, or more, of the almonds paste. Next, top with whipped cream. Place the top on the cream, and dust with powdered sugar. Repeat with remaining Semlor.",
  hidden: false,
};

// #endregion

const cards = document.getElementById("cards");
const searchInput = document.getElementById("searchInput");

const details = document.getElementById("details");
const detailsBackground = document.getElementById("detailsBackground");
const detailsName = document.getElementById("detailsName");
const image = document.getElementById("image");
const dishDescription = document.getElementById("dishDescription");
const ingredientsHeader = document.getElementById("ingredientsHeader");
const ingredients = document.getElementById("ingredients");
const serveWithHeader = document.getElementById("serveWithHeader");
const serveWith = document.getElementById("serveWith");
const howToHeader = document.getElementById("howToHeader");
const howTo = document.getElementById("howTo");
const clock = document.getElementById("clock");
const close = document.getElementById("close");
const shoppingCartBall = document.getElementById("shoppingCartBall");
const shoppingCartBallMobile = document.getElementById(
  "shoppingCartBallMobile"
);
const addToShoppingCartBtn = document.getElementById("addToShoppingCart");
const shoppingCartText = document.getElementById("shoppingCartText");
const shoppingCartTextMobile = document.getElementById(
  "shoppingCartTextMobile"
);

const cartMealParent = document.getElementById("cartMeal");
const cartMealImage = document.getElementById("cartMealImage");
const cartMealName = document.getElementById("cartMealName");
const cartMealMoney = document.getElementById("cartMealMoney");
const cartMealP = document.getElementById("cartMealP");

const summaryOrderInfo = document.getElementById("summaryOrderInfo");
const summaryOrderImage = document.getElementById("summaryOrderImage");
const summaryOrderName = document.getElementById("summaryOrderName");
const summaryOrderMoney = document.getElementById("summaryOrderMoney");

const totalPrice = document.getElementById("totalPrice");
const payTotalPrice = document.getElementById("payTotalPrice");
const totalDollars = document.getElementById("totalDollars");

const hamburgerMenuOptions = document.getElementById("hamburgerMenuOptions");
const hamburgerMenu = document.getElementById("hamburgerMenu");

const starSolid = "icons/starSolid.svg";
const starOutlined = "icons/star.svg";

const CART_KEY = "cartKey";

// Minimum characters requierd before search fiters results
const SEARCH_MINIMUM_CHAR_COUNT = 3;

// To place all meal cards on website
function spawnCard(meal) {
  if (cards == null) {
    return;
  }
  const card = `<div id="${meal.id}" class="swedishBreakfast">
<img 
  class="cardImage"
  src="${meal.image}"
  alt="Swedish breakfast with hardbread, eggs and coffee."
/>
<h1>${meal.name}</h1>
<p class="description">
  ${meal.description.slice(0, 100)} 
</p>

<div class="time">
  <img src="icons/clock.svg" alt="" />
  <p class="timeToCook">${meal.timeToCook}</p>
</div>
<div class="price">
  <p>$ ${meal.price}</p>
</div>
<div class="reviews">
  <img id="${meal.id}star1" src="icons/starSolid.svg" alt="" />
  <img id="${meal.id}star2" src="icons/starSolid.svg" alt="" />
  <img id="${meal.id}star3" src="icons/starSolid.svg" alt="" />
  <img id="${meal.id}star4" src="icons/starSolid.svg" alt="" />
  <img id="${meal.id}star5" src="icons/starSolid.svg" alt="" />
</div>
</div>`;

  cards.innerHTML += card;
}

// Contains all meal items
let listOfMeals = [meal2, meal3, meal5, meal6, meal8, meal9, meal11, meal12];
let cart = [];

let toggleHamburgerMenu = false;
let currentMeal;
let currentMealId = "";
let cartMeal;
let cartMealId = "";
getSessionStorage();
updateCart();
updateSummary();

// Display all meals as cards on website
listOfMeals.forEach((meal) => {
  spawnCard(meal);
  setStars(meal);
});

listOfMeals.forEach((meal) => {
  let element = document.getElementById(meal.id);
  if (element == null) {
    return;
  }
  element.addEventListener("click", function () {
    clickedMeal(meal);
  });
});

function getSessionStorage() {
  let m = sessionStorage.getItem(CART_KEY);
  if (m != null) {
    cartMealId = m;
    cartMeal = listOfMeals.find((meal) => meal.id == cartMealId);
    console.log(cartMeal);
  }
}

// #region search bar

// Makes the search bar functional.

// The following 6 lines of code was adapted from https://javascript.plainenglish.io/how-to-build-a-search-bar-7d8a8a3d9d00 20022-11-26

if (searchInput != null) {
  searchInput.addEventListener("keyup", (event) => {
    const { value } = event.target;

    // Transforms all letters to lowercase.
    const searchQuery = value.toLowerCase();

    // If three letters or more is written - a meal will appear on the screen. If not, all meals will be shown, this is also for when you remove letters.
    if (searchQuery.length >= SEARCH_MINIMUM_CHAR_COUNT) {
      listOfMeals.forEach((meal) => doesMealMatchSearch(meal, searchQuery));
    } else {
      listOfMeals.forEach((meal) => showMeal(meal));
    }
  });
}

// Looks if the letters match with the meals, shows the meals it matches with and hides the other ones.
function doesMealMatchSearch(meal, searchString) {
  if (meal.name.toLowerCase().includes(searchString)) {
    showMeal(meal);
  } else {
    hideMeal(meal);
  }
}

// Function to hide and show meals.
function hideMeal(meal) {
  meal.hidden = true;
  let mealElement = document.getElementById(meal.id);
  mealElement.style.display = "none";
}

function showMeal(meal) {
  meal.hidden = false;
  let mealElement = document.getElementById(meal.id);
  mealElement.style.display = "block";
}

// #endregion

// Iactivates/activates stars in meal cards
function setStars(meal) {
  if (cards == null) {
    return;
  }
  const parent = document.getElementById(meal.id);
  const star1 = parent.querySelector("#" + meal.id + "star1");
  const star2 = parent.querySelector("#" + meal.id + "star2");
  const star3 = parent.querySelector("#" + meal.id + "star3");
  const star4 = parent.querySelector("#" + meal.id + "star4");
  const star5 = parent.querySelector("#" + meal.id + "star5");

  if (meal.stars >= 1) {
    star1.src = starSolid;
  } else {
    star1.src = starOutlined;
  }
  if (meal.stars >= 2) {
    star2.src = starSolid;
  } else {
    star2.src = starOutlined;
  }
  if (meal.stars >= 3) {
    star3.src = starSolid;
  } else {
    star3.src = starOutlined;
  }
  if (meal.stars >= 4) {
    star4.src = starSolid;
  } else {
    star4.src = starOutlined;
  }
  if (meal.stars >= 5) {
    star5.src = starSolid;
  } else {
    star5.src = starOutlined;
  }
}

hideHamburgerMenuOptions();
hideDetails();
updateShoppingCartBall();

function clickedMeal(meal) {
  currentMeal = meal;
  currentMealId = meal.id;
  let oldIngredients = document.querySelectorAll(".ingredientItem");
  let oldServeWith = document.querySelectorAll(".serveWithItem");

  oldIngredients.forEach((ingredientItem) => {
    ingredientItem.remove();
  });

  oldServeWith.forEach((serveWithItem) => {
    serveWithItem.remove();
  });

  dishDescription.innerText = meal.dishDescription;
  detailsName.innerText = meal.name;
  image.src = meal.image;
  meal.ingredients.forEach((ingredient) => {
    /* The following 3 lines of code was adapted from https://stackoverflow.com/questions/20673959/how-to-add-new-li-to-ul-onclick-with-javascript Accessed: 2022-11-29 */
    let li = document.createElement("li");
    li.classList.add("ingredientItem");
    li.appendChild(document.createTextNode(ingredient));
    ingredients.appendChild(li);
  });
  meal.serveWith.forEach((item) => {
    let li = document.createElement("li");
    li.classList.add("serveWithItem");
    li.appendChild(document.createTextNode(item));
    serveWith.appendChild(li);
  });
  howTo.innerText = meal.howTo;
  clock.innerText = meal.timeToCook;
  showDetails();
}

if (close != null) {
  close.addEventListener("click", function () {
    hideDetails();
  });
}

if (addToShoppingCartBtn != null) {
  addToShoppingCartBtn.addEventListener("click", function () {
    cartMealId = currentMealId;
    cartMeal = currentMeal;
    updateSessionStorage();
    updateShoppingCartBall();
  });
}

function updateSessionStorage() {
  sessionStorage.setItem(CART_KEY, cartMealId);
}

hamburgerMenu.addEventListener("click", function () {
  toggleHamburgerMenu = !toggleHamburgerMenu;
  if (toggleHamburgerMenu == true) {
    showHamburgerMenuOptions();
  } else {
    hideHamburgerMenuOptions();
  }
});

function hideDetails() {
  if (details != null) {
    details.style.display = "none";
    detailsBackground.style.display = "none";
  }
}

function showDetails() {
  details.style.display = "block";
  detailsBackground.style.display = "block";
}

function showShoppingCartBall() {
  if (shoppingCartBall != null) {
    shoppingCartBall.style.display = "flex";
  }
}

function hideShoppingCartBall() {
  shoppingCartBall.style.display = "none";
}

function showShoppingCartBallMobile() {
  if (shoppingCartBallMobile != null) {
    shoppingCartBallMobile.style.display = "flex";
  }
}

function hideShoppingCartBallMobile() {
  shoppingCartBallMobile.style.display = "none";
}

function showHamburgerMenuOptions() {
  hamburgerMenuOptions.style.display = "inline-block";
}

function hideHamburgerMenuOptions() {
  hamburgerMenuOptions.style.display = "none";
}

function updateShoppingCartBall() {
  if (cartMealId != null && cartMealId != "") {
    if (shoppingCartText != null) {
      shoppingCartText.innerHTML = 1;
    }
    if (shoppingCartTextMobile != null) {
      shoppingCartTextMobile.innerHTML = 1;
    }
    showShoppingCartBall();
    showShoppingCartBallMobile();
  } else {
    hideShoppingCartBall();
    hideShoppingCartBallMobile();
  }
}

function updateCart() {
  if (cartMealParent == null) {
    return;
  }
  if (cartMeal != null) {
    cartMealParent.style.display = "flex";
    cartMealImage.src = cartMeal.image;
    cartMealName.innerHTML = cartMeal.name;
    cartMealMoney.innerHTML = "$" + cartMeal.price;
    cartMealP.innerHTML = "$" + cartMeal.price;
  } else {
    cartMealParent.style.display = "none";
  }
}

function updateSummary() {
  if (summaryOrderInfo == null) {
    return;
  }
  if (cartMeal != null) {
    summaryOrderInfo.style.display = "flex";
    summaryOrderImage.src = cartMeal.image;
    summaryOrderName.innerHTML = cartMeal.name;
    summaryOrderMoney.innerHTML = "$" + cartMeal.price;
    totalPrice.innerHTML = "$" + cartMeal.price;
    payTotalPrice.innerHTML = "Pay $" + cartMeal.price;
    if (totalDollars != null) {
      totalDollars.innerHTML = "$" + cartMeal.price;
    }
  }
}
